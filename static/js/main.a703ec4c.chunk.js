(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(81).concat([function(e,t,a){var n={"./attack.png":207,"./bless.png":208,"./card-lost.png":209,"./card-recover.png":210,"./card-unrecoverable.png":211,"./circle-xp.png":212,"./circle.png":213,"./consume-element.png":214,"./curse.png":215,"./effect-add-target.png":216,"./effect-pierce.png":217,"./effect-pull.png":218,"./effect-push.png":219,"./element-air.png":220,"./element-all.png":221,"./element-dark.png":222,"./element-earth.png":223,"./element-fire.png":224,"./element-ice.png":225,"./element-light.png":226,"./flying.png":227,"./heal.png":228,"./hex-grey.png":229,"./hex-red.png":230,"./item-body.png":231,"./item-feet.png":232,"./item-head.png":233,"./item-onehand.png":234,"./item-small.png":235,"./item-tap.png":236,"./item-twohands.png":237,"./item-untap.png":238,"./jump.png":239,"./loot.png":240,"./minus-1.png":241,"./move.png":242,"./no-pick-up.png":243,"./perk-tick.png":244,"./persistent.png":245,"./range.png":246,"./refresh-white.png":247,"./refresh.png":248,"./retaliate.png":249,"./rolling.png":250,"./round.png":251,"./shield.png":252,"./status-disarm.png":253,"./status-immobilize.png":254,"./status-invisible.png":255,"./status-muddle.png":256,"./status-poison.png":257,"./status-strengthen.png":258,"./status-stun.png":259,"./status-wound.png":260,"./summon.png":82,"./summon1.png":83,"./summon2.png":84,"./target.png":261,"./xp.png":85};function c(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}c.keys=function(){return Object.keys(n)},c.resolve=o,e.exports=c,c.id=81},function(e,t,a){e.exports=a.p+"static/media/summon.39ee4c43.png"},function(e,t,a){e.exports=a.p+"static/media/summon1.81a31bf1.png"},function(e,t,a){e.exports=a.p+"static/media/summon2.d92ed28e.png"},function(e,t,a){e.exports=a.p+"static/media/xp.65e6e9ee.png"},,,,,,,,,,,function(e,t,a){e.exports=a(271)},,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/attack.5ef7f56d.png"},function(e,t,a){e.exports=a.p+"static/media/bless.86713718.png"},function(e,t,a){e.exports=a.p+"static/media/card-lost.2c30db3c.png"},function(e,t,a){e.exports=a.p+"static/media/card-recover.ba39d20c.png"},function(e,t,a){e.exports=a.p+"static/media/card-unrecoverable.57e20f70.png"},function(e,t,a){e.exports=a.p+"static/media/circle-xp.6a4ef401.png"},function(e,t,a){e.exports=a.p+"static/media/circle.600f491b.png"},function(e,t,a){e.exports=a.p+"static/media/consume-element.070fa3b8.png"},function(e,t,a){e.exports=a.p+"static/media/curse.a6aca210.png"},function(e,t,a){e.exports=a.p+"static/media/effect-add-target.41212c6c.png"},function(e,t,a){e.exports=a.p+"static/media/effect-pierce.05210bfb.png"},function(e,t,a){e.exports=a.p+"static/media/effect-pull.6c907c26.png"},function(e,t,a){e.exports=a.p+"static/media/effect-push.cd10a88a.png"},function(e,t,a){e.exports=a.p+"static/media/element-air.df3b50d6.png"},function(e,t,a){e.exports=a.p+"static/media/element-all.d347e25e.png"},function(e,t,a){e.exports=a.p+"static/media/element-dark.4697109f.png"},function(e,t,a){e.exports=a.p+"static/media/element-earth.e711fa72.png"},function(e,t,a){e.exports=a.p+"static/media/element-fire.76631cc3.png"},function(e,t,a){e.exports=a.p+"static/media/element-ice.1cca97c2.png"},function(e,t,a){e.exports=a.p+"static/media/element-light.00bb4d2c.png"},function(e,t,a){e.exports=a.p+"static/media/flying.6582e5ca.png"},function(e,t,a){e.exports=a.p+"static/media/heal.3a502fee.png"},function(e,t,a){e.exports=a.p+"static/media/hex-grey.2ce215a5.png"},function(e,t,a){e.exports=a.p+"static/media/hex-red.972b1d59.png"},function(e,t,a){e.exports=a.p+"static/media/item-body.274acc18.png"},function(e,t,a){e.exports=a.p+"static/media/item-feet.1e298ad1.png"},function(e,t,a){e.exports=a.p+"static/media/item-head.389fa415.png"},function(e,t,a){e.exports=a.p+"static/media/item-onehand.f4ed7645.png"},function(e,t,a){e.exports=a.p+"static/media/item-small.3ba9cf0e.png"},function(e,t,a){e.exports=a.p+"static/media/item-tap.8f15b195.png"},function(e,t,a){e.exports=a.p+"static/media/item-twohands.3da8a407.png"},function(e,t,a){e.exports=a.p+"static/media/item-untap.8d798079.png"},function(e,t,a){e.exports=a.p+"static/media/jump.f5aac0fb.png"},function(e,t,a){e.exports=a.p+"static/media/loot.160a31cb.png"},function(e,t,a){e.exports=a.p+"static/media/minus-1.58436226.png"},function(e,t,a){e.exports=a.p+"static/media/move.c9d0a042.png"},function(e,t,a){e.exports=a.p+"static/media/no-pick-up.92ff5a82.png"},function(e,t,a){e.exports=a.p+"static/media/perk-tick.42b557c8.png"},function(e,t,a){e.exports=a.p+"static/media/persistent.19d66ae1.png"},function(e,t,a){e.exports=a.p+"static/media/range.7b08129e.png"},function(e,t,a){e.exports=a.p+"static/media/refresh-white.7470c108.png"},function(e,t,a){e.exports=a.p+"static/media/refresh.533dbf29.png"},function(e,t,a){e.exports=a.p+"static/media/retaliate.fb4be0de.png"},function(e,t,a){e.exports=a.p+"static/media/rolling.a314176b.png"},function(e,t,a){e.exports=a.p+"static/media/round.27101fbe.png"},function(e,t,a){e.exports=a.p+"static/media/shield.68da31a9.png"},function(e,t,a){e.exports=a.p+"static/media/status-disarm.94522cd0.png"},function(e,t,a){e.exports=a.p+"static/media/status-immobilize.cc76d2a7.png"},function(e,t,a){e.exports=a.p+"static/media/status-invisible.07cf2872.png"},function(e,t,a){e.exports=a.p+"static/media/status-muddle.cc30cdc5.png"},function(e,t,a){e.exports=a.p+"static/media/status-poison.3f9f88da.png"},function(e,t,a){e.exports=a.p+"static/media/status-strengthen.0fe234aa.png"},function(e,t,a){e.exports=a.p+"static/media/status-stun.8f069dd1.png"},function(e,t,a){e.exports=a.p+"static/media/status-wound.170daa27.png"},function(e,t,a){e.exports=a.p+"static/media/target.303cfeda.png"},function(e,t,a){e.exports=a.p+"static/media/card.808d9e5d.jpg"},function(e,t,a){e.exports=a.p+"static/media/card-runes.d7b7c44d.jpg"},,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(38),i=a.n(o),r=(a(101),a(12)),s=a(13),l=a(15),u=a(14),m=a(16),p=(a(102),a(94)),d=a(30),f=a(3),g=a(10),b=a(4),v=a(21),h=a(91),x=function(e){return c.a.createElement("div",{className:e.className||"action"},c.a.createElement("span",null,e.data&&e.data.iconOnly?"":e.text),e.children&&c.a.createElement("span",null,e.children),c.a.createElement("img",{alt:e.text,src:e.icon||a(81)("./".concat(e.action,".png"))}))},E=function(e){return x(Object(f.a)({text:"Attack",action:"attack"},e))},j=function(e){return x(Object(f.a)({text:"Heal",action:"heal"},e))},O=function(e){return x(Object(f.a)({text:"Range",action:"range"},e))},y=function(e){return x(Object(f.a)({text:"Target",action:"target"},e))},N=function(e){return x(Object(f.a)({text:"Move",action:"move"},e))},C=function(e){return x(Object(f.a)({text:"Jump",action:"jump"},e))},k=function(e){return x(Object(f.a)({text:"Flying",action:"flying"},e))},D=function(e){return x(Object(f.a)({text:"Shield",action:"shield"},e))},S=function(e){return x(Object(f.a)({text:"Retaliate",action:"retaliate"},e))},w=function(e){return x(Object(f.a)({text:"Loot",action:"loot"},e))},B=function(e){return x(Object(f.a)({className:"action status"},e))},T=function(e){return B(Object(f.a)({text:"ADD TARGET",action:"effect-add-target"},e))},M=function(e){return B(Object(f.a)({text:"PIECE",action:"effect-pierce"},e))},I=function(e){return B(Object(f.a)({text:"PUSH",action:"effect-push"},e))},R=function(e){return B(Object(f.a)({text:"PULL",action:"effect-pull"},e))},z=function(e){return B(Object(f.a)({text:"POISON",action:"status-poison"},e))},J=function(e){return B(Object(f.a)({text:"WOUND",action:"status-wound"},e))},U=function(e){return B(Object(f.a)({text:"IMMOBILIZE",action:"status-immobilize"},e))},P=function(e){return B(Object(f.a)({text:"DISARM",action:"status-disarm"},e))},A=function(e){return B(Object(f.a)({text:"STUN",action:"status-stun"},e))},L=function(e){return B(Object(f.a)({text:"MUDDLE",action:"status-muddle"},e))},F=function(e){return B(Object(f.a)({text:"CURSE",action:"curse"},e))},W=function(e){return B(Object(f.a)({text:"INVISIBLE",action:"status-invisible"},e))},_=function(e){return B(Object(f.a)({text:"STRENGTHEN",action:"status-strengthen"},e))},H=function(e){return B(Object(f.a)({text:"BLESS",action:"bless"},e))},K=function(e){return c.a.createElement("div",{className:"action xp ".concat(e.data&&e.data.size)},c.a.createElement("img",{alt:"xp",src:a(85)}),c.a.createElement("span",null,e.children))},X=function(e){return x(Object(f.a)({className:"action element"},e,{data:Object(f.a)({iconOnly:!0},e.data)}))},Y=function(e){return X(Object(f.a)({text:"All",action:"element-all"},e))},G=function(e){return X(Object(f.a)({text:"Fire",action:"element-fire"},e))},V=function(e){return X(Object(f.a)({text:"Ice",action:"element-ice"},e))},Z=function(e){return X(Object(f.a)({text:"Air",action:"element-air"},e))},$=function(e){return X(Object(f.a)({text:"Earth",action:"element-earth"},e))},q=function(e){return X(Object(f.a)({text:"Dark",action:"element-dark"},e))},Q=function(e){return X(Object(f.a)({text:"Light",action:"element-light"},e))},ee=function(e){return x(Object(f.a)({className:"action big-icon",text:"Round",action:"round"},e,{data:Object(f.a)({iconOnly:!0},e.data)}))},te=function(e){return x(Object(f.a)({className:"action big-icon",text:"Persistent",action:"persistent"},e,{data:Object(f.a)({iconOnly:!0},e.data)}))},ae=function(e){return x(Object(f.a)({className:"action big-icon",text:"Card Lost",action:"card-lost"},e,{data:Object(f.a)({iconOnly:!0},e.data)}))},ne=function(e){return x(Object(f.a)({className:"action big-icon",text:"Card Recover",action:"card-recover"},e,{data:Object(f.a)({iconOnly:!0},e.data)}))},ce=function(e){return x(Object(f.a)({className:"action big-icon",text:"Card Unrecoverable",action:"card-unrecoverable"},e,{data:Object(f.a)({iconOnly:!0},e.data)}))};function oe(e,t,a){var n=e.attributes,o=e.children,i=e.node,r={data:Object.fromEntries(i.data),children:o};switch(i.type){case"attack":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(E,r));case"heal":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(j,r));case"range":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(O,r));case"target":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(y,r));case"move":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(N,r));case"jump":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(C,r));case"flying":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(k,r));case"shield":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(D,r));case"retaliate":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(S,r));case"loot":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(w,r));case"xp":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(K,r));case"round":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(ee,r));case"persistent":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(te,r));case"element-all":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(Y,r));case"element-fire":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(G,r));case"element-ice":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(V,r));case"element-air":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(Z,r));case"element-earth":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement($,r));case"element-light":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(Q,r));case"element-dark":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(q,r));case"effect-add-target":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(T,r));case"effect-push":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(I,r));case"effect-pull":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(R,r));case"effect-pierce":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(M,r));case"status-poison":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(z,r));case"status-wound":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(J,r));case"status-immobilize":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(U,r));case"status-disarm":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(P,r));case"status-stun":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(A,r));case"status-muddle":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(L,r));case"curse":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(F,r));case"status-invisible":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(W,r));case"status-strengthen":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(_,r));case"bless":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(H,r));case"card-lost":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(ae,r));case"card-recover":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(ne,r));case"card-unrecoverable":return c.a.createElement("div",Object.assign({className:"inline-action"},n),c.a.createElement(ce,r));default:return a()}}var ie=a(95),re=a(58),se=c.a.forwardRef(function(e,t){var a=e.style,n=e.active,o=e.reversed,i=Object(re.a)(e,["style","active","reversed"]);return c.a.createElement("span",Object.assign({},i,{ref:t,style:Object(f.a)({},a,{cursor:"pointer",color:"".concat(o?n?"white":"#aaa":n?"black":"#ccc")})}))}),le=c.a.forwardRef(function(e,t){var a=e.className,n=e.style,o=Object(re.a)(e,["className","style"]);return c.a.createElement("span",Object.assign({},o,{ref:t,className:[].concat(Object(ie.a)((a||"").split(" ")),["material-icons"]).join(" "),style:Object(f.a)({},n,{fontSize:"18px",verticalAlign:"text-bottom"})}))}),ue=c.a.forwardRef(function(e,t){return c.a.createElement("div",Object.assign({},e,{ref:t}))}),me=function(e){var t=e.editor,a=t.value,n=a.anchorBlock&&"action-main"===a.anchorBlock.type;return c.a.createElement(se,{reversed:!0,active:n,onMouseDown:function(e){e.preventDefault(),t.setBlocks(n?"action-modifier":"action-main")}},c.a.createElement(le,null,"format_size"))},pe=c.a.forwardRef(function(e,t){var a=window.document.getElementById("root");return a?i.a.createPortal(c.a.createElement(ue,{ref:t,style:{padding:"8px 7px 6px",position:"absolute",zIndex:"1",top:"-10000px",left:"-10000px",marginTop:"-6px",opacity:"0",backgroundColor:"#222",borderRadius:"4px",transition:"opacity 0.75s"}},c.a.createElement(me,{editor:e.editor})),a):null}),de=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).editor=void 0,a.containerRef=c.a.createRef(),a.menuRef=c.a.createRef(),a.ref=function(e){a.editor=e},a.componentDidMount=function(){a.updateMenu()},a.componentDidUpdate=function(){a.updateMenu()},a.onMouseDown=function(e){0===e.button&&"move"===a.props.cursor&&(e.preventDefault(),e.stopPropagation(),a.props.onDragAction(a.props.id,e.clientX-a.props.x,e.clientY-a.props.y))},a.onDragOver=function(e,t,a){e.preventDefault(),e.stopPropagation()},a.onDrop=function(e,t,a){e.preventDefault(),e.stopPropagation();var n=e.dataTransfer.getData("action");if("string"!==typeof n)return a();var c=JSON.parse(e.dataTransfer.getData("data"))||{};"text"===n?t.insertText(""):t.insertInline(Object(f.a)({},c,{object:"inline",type:n}))},a.updateMenu=function(){var e=a.containerRef.current,t=a.menuRef.current;if(e&&t)if(a.state.value.selection.isBlurred)t.style.opacity=0;else{var n=e.getBoundingClientRect();t.style.opacity=1,t.style.top="".concat(n.top-t.offsetHeight,"px"),t.style.left="".concat(n.left-t.offsetWidth/2+n.width/2,"px")}},a.renderEditor=function(e,t,n){var o=n();return c.a.createElement(c.a.Fragment,null,o,c.a.createElement(pe,{ref:a.menuRef,editor:t}))},a.renderBlock=function(e,t,a){var n=e.attributes,o=e.children;switch(e.node.type){case"action-main":return c.a.createElement("div",Object.assign({className:"action-main"},n),o);case"action-modifier":return c.a.createElement("div",Object.assign({className:"action-modifier"},n),o);default:return a()}},a.renderMark=function(e,t,a){var n=e.children,o=e.mark,i=e.attributes;switch(o.type){case"bold":return c.a.createElement("strong",i,n);case"code":return c.a.createElement("code",i,n);case"italic":return c.a.createElement("em",i,n);case"underlined":return c.a.createElement("u",i,n);default:return a()}},a.onChange=function(e){var t=e.value,n=a.editor;if(n){a.setState({value:t});var c,o=t.document.getInlinesByType("xp"),i=t.document.getBlocks().some(function(e){return e.nodes.some(function(e){return("inline"!==e.object||"xp"!==e.type)&&("text"!==e.object||""!==e.text)})});c=i||1!==o.size||1!==t.document.nodes.size?"small":"big",o.forEach(function(e){var t=e.toJSON();t.data=t.data||{},t.data.size!==c&&(t.data.size=c,n.replaceNodeByKey(e.key,t))})}},a.state=Object(f.a)({},e),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e={};return"move"===this.props.cursor&&(e.cursor="move",e.boxShadow="blue 0px 0px 0px 2px"),c.a.createElement("div",{className:"action-editor",onMouseDown:this.onMouseDown,style:Object(f.a)({top:this.props.y,left:this.props.x},e),ref:this.containerRef},c.a.createElement(g.a,{autoFocus:!0,spellCheck:!1,readOnly:"text"!==this.props.cursor,ref:this.ref,value:this.state.value,onChange:this.onChange,onDrop:this.onDrop,onDragOver:this.onDragOver,onKeyDown:function(e,t,a){return"Enter"===e.key?!1===e.shiftKey?t.insertBlock({type:"action-main"}):t.insertBlock({type:"action-modifier"}):a()},renderEditor:this.renderEditor,renderMark:this.renderMark,renderBlock:this.renderBlock,renderInline:oe}))}}]),t}(c.a.Component),fe=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onNameChange=function(e){var t=e.value;a.setState({name:t})},a.onBox1Change=function(e){var t=e.value;a.setState({box1:t})},a.onBox2Change=function(e){var t=e.value;a.setState({box2:t})},a.onBox3Change=function(e){var t=e.value;a.setState({box3:t})},a.onBox4Change=function(e){var t=e.value;a.setState({box4:t})},a.onBox5Change=function(e){var t=e.value;a.setState({box5:t})},a.state={name:v.a.deserialize("Summon "),box1:b.n.fromJSON({object:"value",document:{object:"document",nodes:[{object:"block",type:"action-main",nodes:[{object:"inline",type:"heal",data:{iconOnly:!0}},{object:"text",text:": 4"}]}]}}),box2:b.n.fromJSON({object:"value",document:{object:"document",nodes:[{object:"block",type:"action-main",nodes:[{object:"inline",type:"attack",data:{iconOnly:!0}},{object:"text",text:": 3"}]}]}}),box3:b.n.fromJSON({object:"value",document:{object:"document",nodes:[{object:"block",type:"action-main",nodes:[{object:"inline",type:"move",data:{iconOnly:!0}},{object:"text",text:": 3"}]}]}}),box4:b.n.fromJSON({object:"value",document:{object:"document",nodes:[{object:"block",type:"action-main",nodes:[{object:"inline",type:"range",data:{iconOnly:!0}},{object:"text",text:": -"}]}]}}),box5:b.n.fromJSON({object:"value",document:{object:"document",nodes:[{object:"block",type:"action-main"}]}})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:this.props.className},c.a.createElement("img",{alt:"summon",src:a(82)}),c.a.createElement(g.a,{className:"summon name single-line",value:this.state.name,onChange:this.onNameChange}),c.a.createElement(g.a,{className:"summon box1",value:this.state.box1,renderInline:oe,onChange:this.onBox1Change}),c.a.createElement(g.a,{className:"summon box2",value:this.state.box2,renderInline:oe,onChange:this.onBox2Change}),c.a.createElement(g.a,{className:"summon box3",value:this.state.box3,renderInline:oe,onChange:this.onBox3Change}),c.a.createElement(g.a,{className:"summon box4",value:this.state.box4,renderInline:oe,onChange:this.onBox4Change}),c.a.createElement(g.a,{className:"summon box5",value:this.state.box5,renderInline:oe,onChange:this.onBox5Change}))}}]),t}(c.a.Component),ge=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).editor=void 0,a.onDragOver=function(e){e.stopPropagation(),e.preventDefault()},a.onDrop=function(e){e.preventDefault(),e.stopPropagation();var t=e.dataTransfer.getData("action");if("string"!==typeof t)return!1;var n,c=JSON.parse(e.dataTransfer.getData("data"))||{},o=e.target.getBoundingClientRect(),i=e.clientX-o.left,r=e.clientY-o.top;n="text"===t?b.n.fromJSON({object:"value",document:{object:"document",nodes:[{object:"block",type:"action-main",nodes:[{object:"text",text:" "}]}]}}):b.n.fromJSON({object:"value",document:{object:"document",nodes:[{object:"block",type:"action-main",nodes:[Object(f.a)({},c,{object:"inline",type:t})]}]}}),a.setState({actions:Object(f.a)({},a.state.actions,Object(d.a)({},Object(h.generateUUIDv4)(),{value:n,x:i,y:r}))}),a.props.onCursorChange("text")},a.onTitleChange=function(e){var t=e.value;a.setState({title:t})},a.onLevelChange=function(e){var t=e.value;a.setState({level:t})},a.onInitiativeChange=function(e){var t=e.value;a.setState({initiative:t})},a.onDragAction=function(e,t,n){a.setState({mouse:{key:e,x:t,y:n}})},a.onMouseMove=function(e){if("move"===a.props.cursor&&a.state.mouse){e.preventDefault(),e.stopPropagation();var t=a.state.mouse,n=a.state.actions;a.setState({actions:Object(f.a)({},n,Object(d.a)({},t.key,Object(f.a)({},n[t.key],{x:e.clientX-t.x,y:e.clientY-t.y})))})}},a.onMouseUp=function(e){"move"===a.props.cursor&&a.state.mouse&&(e.preventDefault(),e.stopPropagation(),a.setState({mouse:void 0}))},a.onToggleSummonTop=function(e){a.setState({summonTop:!a.state.summonTop})},a.onToggleSummonBottom=function(e){a.setState({summonBottom:!a.state.summonBottom})},a.renderTitleMark=function(e,t,a){if("card-title"===e.mark.type){var n={backgroundImage:"linear-gradient(".concat(e.mark.data.get("color"),"80, white)"),WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"};return c.a.createElement("span",Object.assign({},e.attributes,{style:n}),e.children)}return a()},a.ref=function(e){a.editor=e},a.state={actions:{},title:b.n.fromJSON({object:"value",document:{object:"document",nodes:[{object:"block",type:"action-main",nodes:[{object:"text",text:"Card Name",marks:[{type:"card-title",data:{color:e.color}}]}]}]}}),level:v.a.deserialize("1"),initiative:v.a.deserialize("00"),summonTop:!1,summonBottom:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this;if(e.color!==this.props.color){var n=this.editor;n.value.document.getTexts().forEach(function(e){e.marks.forEach(function(t){"card-title"===t.type&&n.setMarkByKey(e.key,0,void 0,t,{type:"card-title",data:{color:a.props.color}})})})}}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{id:"card",className:"card"},c.a.createElement("img",{alt:"card",className:"center",src:a(262)}),c.a.createElement("img",{alt:"card-runes",className:"center runes",src:a(263)}),c.a.createElement("div",{className:"center color",style:{background:"".concat(this.props.color,"80")}}),c.a.createElement("div",{className:"actions",onDrop:this.onDrop,onDragOver:this.onDragOver,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp},c.a.createElement(g.a,{className:"title single-line",readOnly:"text"!==this.props.cursor,value:this.state.title,onChange:this.onTitleChange,renderMark:this.renderTitleMark,ref:this.ref}),c.a.createElement(g.a,{className:"level single-line",readOnly:"text"!==this.props.cursor,value:this.state.level,onChange:this.onLevelChange}),c.a.createElement(g.a,{className:"initiative single-line",readOnly:"text"!==this.props.cursor,value:this.state.initiative,onChange:this.onInitiativeChange}),this.state.summonTop?c.a.createElement(fe,{className:"summon-top center runes"}):"",this.state.summonBottom?c.a.createElement(fe,{className:"summon-bottom center runes"}):"",Object.entries(this.state.actions).map(function(t){var a=Object(p.a)(t,2),n=a[0],o=a[1];return c.a.createElement(de,Object.assign({cursor:e.props.cursor,onDragAction:e.onDragAction,key:n,id:n},o))})),c.a.createElement("img",{src:a(83),className:"summon-top-toggle",style:{filter:this.state.summonTop?void 0:"grayscale()"},onClick:this.onToggleSummonTop}),c.a.createElement("img",{src:a(84),className:"summon-bottom-toggle",style:{filter:this.state.summonBottom?void 0:"grayscale()"},onClick:this.onToggleSummonBottom}))}}]),t}(c.a.Component),be=a(93),ve=a(92),he=a(264),xe=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onColorChange=function(e){a.setState({color:e.target.value}),a.onThrottledColorChange(e.target.value)},a.onThrottledColorChange=Object(be.a)(500,function(e){a.props.onColorChange(e)}),a.onCursorChange=function(e,t){e.preventDefault(),e.stopPropagation(),a.props.onCursorChange(t)},a.onDragStart=function(e){e.dataTransfer.setData("action","text"),e.dataTransfer.setData("data",JSON.stringify({})),e.dataTransfer.dropEffect="copy"},a.onSaveClick=function(e){e.preventDefault(),e.stopPropagation();var t=document.getElementById("card");t&&he.toBlob(t).then(function(e){e&&Object(ve.saveAs)(e,"my-card.png")})},a.onMoveClick=function(e){a.onCursorChange(e,"move")},a.onTextClick=function(e){a.onCursorChange(e,"text")},a.state={color:a.props.color},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"toolbar"},c.a.createElement("div",null,c.a.createElement("input",{type:"color",value:this.state.color,onChange:this.onColorChange})),c.a.createElement("div",{style:{cursor:"pointer"},className:"material-icons",onClick:this.onSaveClick},"save"),c.a.createElement("div",{style:{cursor:"pointer"},className:"material-icons",onClick:this.onMoveClick},"zoom_out_map"),c.a.createElement("div",{draggable:!0,className:"material-icons",onDragStart:this.onDragStart,onClick:this.onTextClick},"title"),c.a.createElement(Ee,{action:"attack"}),c.a.createElement(Ee,{action:"heal"}),c.a.createElement(Ee,{action:"range"}),c.a.createElement(Ee,{action:"target"}),c.a.createElement(Ee,{action:"move"}),c.a.createElement(Ee,{action:"jump"}),c.a.createElement(Ee,{action:"flying"}),c.a.createElement(Ee,{action:"shield"}),c.a.createElement(Ee,{action:"retaliate"}),c.a.createElement(Ee,{action:"loot"}),c.a.createElement(Ee,{action:"xp",data:{nodes:[{object:"text",text:"1"}]}}),c.a.createElement(Ee,{action:"round"}),c.a.createElement(Ee,{action:"persistent"}),c.a.createElement(Ee,{action:"element-all"}),c.a.createElement(Ee,{action:"element-fire"}),c.a.createElement(Ee,{action:"element-ice"}),c.a.createElement(Ee,{action:"element-air"}),c.a.createElement(Ee,{action:"element-earth"}),c.a.createElement(Ee,{action:"element-light"}),c.a.createElement(Ee,{action:"element-dark"}),c.a.createElement(Ee,{action:"effect-add-target"}),c.a.createElement(Ee,{action:"effect-push"}),c.a.createElement(Ee,{action:"effect-pull"}),c.a.createElement(Ee,{action:"effect-pierce"}),c.a.createElement(Ee,{action:"status-poison"}),c.a.createElement(Ee,{action:"status-wound"}),c.a.createElement(Ee,{action:"status-immobilize"}),c.a.createElement(Ee,{action:"status-disarm"}),c.a.createElement(Ee,{action:"status-stun"}),c.a.createElement(Ee,{action:"status-muddle"}),c.a.createElement(Ee,{action:"curse"}),c.a.createElement(Ee,{action:"status-invisible"}),c.a.createElement(Ee,{action:"status-strengthen"}),c.a.createElement(Ee,{action:"bless"}),c.a.createElement(Ee,{action:"card-lost"}),c.a.createElement(Ee,{action:"card-recover"}),c.a.createElement(Ee,{action:"card-unrecoverable"}))}}]),t}(c.a.Component),Ee=function(e){return c.a.createElement("div",{draggable:!0},c.a.createElement("img",{alt:e.icon,src:e.icon||a(81)("./".concat(e.action,".png")),onDragStart:function(t){t.dataTransfer.setData("action",e.action),t.dataTransfer.setData("data",JSON.stringify(e.data||{})),t.dataTransfer.dropEffect="copy"}}))},je=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onColorChange=function(e){a.setState({color:e})},a.onCursorChange=function(e){a.setState({cursor:e})},a.state={color:"#ff0000",cursor:"move"},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"app"},c.a.createElement(xe,{color:this.state.color,onColorChange:this.onColorChange,onCursorChange:this.onCursorChange}),c.a.createElement("div",{style:{flex:1,display:"flex",alignSelf:"center"}},c.a.createElement(ge,{color:this.state.color,cursor:this.state.cursor,onCursorChange:this.onCursorChange})))}}]),t}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(je,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}]),[[96,1,2]]]);
//# sourceMappingURL=main.a703ec4c.chunk.js.map